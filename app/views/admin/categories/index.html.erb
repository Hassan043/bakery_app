<!-- filepath: c:\Users\Haseeb Arif\Desktop\Ruby project\bakery_app\app\views\admin\categories\index.html.erb -->

<style>
  /* Admin Categories Index Styling â€“ Brown-Themed BakeryApp */
  
  .admin-categories-container {
    width: 100%;
    max-width: none;
    margin: 0 auto;
    padding: 1.5rem;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    background: linear-gradient(135deg, #F8F4E9, #E7D7C5);
    padding: 1.5rem;
    border-radius: 0.75rem;
    border: 2px solid #D4B483;
  }

  .page-header h1 {
    color: #5C3D2E;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
  }

  .page-header .subtitle {
    color: #A78A7F;
    font-size: 1rem;
    font-weight: 500;
  }

  .new-category-btn {
    background: linear-gradient(135deg, #5C3D2E, #4A2F20);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .new-category-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(92, 61, 46, 0.3);
    color: white;
    text-decoration: none;
  }

  .table-wrapper {
    background-color: #FFFFFF;
    border: 2px solid #D4B483;
    box-shadow: 0 4px 6px rgba(92, 61, 46, 0.1);
    border-radius: 0.75rem;
    overflow: hidden;
    margin-bottom: 2rem;
  }

  .categories-table {
    width: 100%;
    border-collapse: collapse;
  }

  .categories-table thead tr {
    background: linear-gradient(135deg, #E7D7C5, #D4B483);
  }

  .categories-table thead th {
    color: #5C3D2E;
    text-transform: uppercase;
    font-size: 0.875rem;
    font-weight: 700;
    padding: 1rem;
    white-space: nowrap;
    letter-spacing: 0.5px;
  }

  .categories-table tbody tr {
    border-bottom: 1px solid #E7D7C5;
    transition: background-color 0.2s ease;
  }

  .categories-table tbody tr:hover {
    background-color: #F8F4E9;
  }

  .categories-table tbody td {
    color: #5C3D2E;
    padding: 1rem;
    vertical-align: middle;
  }

  .category-name {
    font-weight: 600;
    color: #5C3D2E;
    margin-bottom: 0.25rem;
    font-size: 1.1rem;
  }

  .category-description {
    color: #A78A7F;
    font-size: 0.875rem;
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .products-count-badge {
    background: linear-gradient(135deg, #D4B483, #A78A7F);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-block;
    min-width: 60px;
    text-align: center;
  }

  .action-buttons {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    align-items: center;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 0.75rem;
    border-radius: 0.375rem;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
  }

  .action-btn-edit {
    background-color: #D4B483;
    color: #5C3D2E;
  }

  .action-btn-edit:hover {
    background-color: #A78A7F;
    color: white;
    transform: scale(1.05);
    text-decoration: none;
  }

  .action-btn-delete {
    background-color: #4A90E2;
    color: white;
  }

  .action-btn-delete:hover {
    background-color: #357ABD;
    transform: scale(1.05);
    text-decoration: none;
  }

  .action-btn svg {
    width: 16px;
    height: 16px;
  }

  .empty-state {
    text-align: center;
    padding: 3rem;
    color: #A78A7F;
  }

  .empty-state svg {
    width: 64px;
    height: 64px;
    color: #D4B483;
    margin-bottom: 1rem;
  }

  .empty-state h3 {
    color: #5C3D2E;
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    margin-bottom: 1.5rem;
  }

  .back-link {
    display: inline-block;
    background-color: #E7D7C5;
    color: #5C3D2E;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .back-link:hover {
    background-color: #D4B483;
    transform: translateY(-2px);
    text-decoration: none;
  }
</style>

<div class="admin-categories-container">
  <div class="page-header">
    <div>
      <h1>Categories Management</h1>
      <span class="subtitle">Total Categories: <%= @categories.count %></span>
    </div>
    <%= link_to 'Add New Category', new_admin_category_path, class: "new-category-btn" %>
  </div>

  <div class="table-wrapper">
    <table class="categories-table">
      <thead>
        <tr>
          <th>Category Name</th>
          <th>Description</th>
          <th style="text-align: center;">Products Count</th>
          <th style="text-align: center;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @categories.each do |category| %>
          <tr>
            <td>
              <div class="category-name"><%= category.name %></div>
            </td>
            <td>
              <% if category.description.present? %>
                <div class="category-description"><%= category.description %></div>
              <% else %>
                <div class="category-description" style="font-style: italic; color: #C0A882;">No description available</div>
              <% end %>
            </td>
            <td style="text-align: center;">
              <span class="products-count-badge">
                <%= category.products.count %> <%= category.products.count == 1 ? 'Product' : 'Products' %>
              </span>
            </td>
            <td>
              <div class="action-buttons">
                <%= link_to edit_admin_category_path(category), 
                      class: "action-btn action-btn-edit",
                      title: "Edit #{category.name}" do %>
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                  Edit
                <% end %>
                <%= link_to admin_category_path(category), 
                      data: { 
                        turbo_method: :delete, 
                        turbo_confirm: "Are you sure you want to delete '#{category.name}'? This action cannot be undone." 
                      }, 
                      class: "action-btn action-btn-delete",
                      title: "Delete #{category.name}" do %>
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                  Delete
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
        <% if @categories.empty? %>
          <tr>
            <td colspan="4">
              <div class="empty-state">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                </svg>
                <h3>No Categories Found</h3>
                <p>Start organizing your bakery products by creating your first category</p>
                <%= link_to 'Add Your First Category', new_admin_category_path, class: "new-category-btn" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <%= link_to 'Back to Dashboard', admin_root_path, class: "back-link" %>
</div>
