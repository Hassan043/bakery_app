<!-- filepath: c:\Users\Haseeb Arif\Desktop\Ruby project\bakery_app\app\views\admin\categories\index.html.erb -->

<style>
  /* 1) Center & stretch to full breakpoint widths */
  .admin-categories-container {
    width: 100%;
    max-width: none;
    margin: 0 auto;
    padding: 1rem;
  }

  /* 2) Table wrapper styling */
  .admin-categories-container .table-wrapper {
    background-color: #FFFDFA;    /* very light cream */
    border: 1px solid #D4B483;    /* light brown */
    box-shadow: 0 4px 6px rgba(92,61,46,0.1);
    border-radius: 0.5rem;
    overflow-x: auto;
    margin-top: 1rem;
  }

  /* 3) Make table fill its container */
  .admin-categories-container table {
    width: 100%;
    border-collapse: collapse;
  }

  /* 4) Header row */
  .admin-categories-container thead tr {
    background-color: #E7D7C5; /* medium cream */
  }
  .admin-categories-container thead th {
    color: #5C3D2E;            /* dark brown */
    text-transform: uppercase;
    font-size: 0.875rem;
    padding: 0.75rem 1rem;
    white-space: nowrap;
  }

  /* 5) Body rows */
  .admin-categories-container tbody tr {
    border-bottom: 1px solid #D4B483;
    transition: background-color 0.2s;
  }
  .admin-categories-container tbody tr:hover {
    background-color: #F8F4E9; /* light cream */
  }
  .admin-categories-container tbody td {
    color: #5C3D2E;
    padding: 0.75rem 1rem;
    white-space: nowrap;
  }

  /* 6) Action buttons */
  .admin-categories-container .actions a {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s;
  }
  .admin-categories-container .actions .edit-btn {
    background-color: #D4B483; /* light brown */
    color: #5C3D2E;
  }
  .admin-categories-container .actions .edit-btn:hover {
    background-color: #A78A7F; /* medium brown */
  }
  .admin-categories-container .actions .delete-btn {
    background-color: #6E260E; /* medium dark brown */
    color: #FFF;
  }
  .admin-categories-container .actions .delete-btn:hover {
    background-color: #5C3D2E; /* dark brown */
  }

  /* 7) New & Back links */
  .admin-categories-container .header a,
  .admin-categories-container .back-link {
    display: inline-block;
    font-weight: bold;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    transition: background-color 0.2s, color 0.2s;
  }
  .admin-categories-container .header a {
    background-color: #6E260E;
    color: #FFF;
  }
  .admin-categories-container .header a:hover {
    background-color: #5C3D2E;
  }
  .admin-categories-container .back-link {
    margin-top: 1rem;
    color: #5C3D2E;
    text-decoration: none;
  }
  .admin-categories-container .back-link:hover {
    color: #6E260E;
  }
</style>

<div class="admin-categories-container">
  <div class="flex justify-between items-center header">
    <div>
      <h1 class="text-2xl font-bold">Categories</h1>
      <span class="text-[#A78A7F]">Total Categories: <%= @categories.count %></span>
    </div>
    <%= link_to 'New Category',
                new_admin_category_path,
                class: "" %>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th class="text-center">Products Count</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @categories.each do |category| %>
          <tr>
            <td><%= category.name %></td>
            <td><%= category.description %></td>
            <td class="text-center"><%= category.products.count %></td>
            <td class="text-center actions">
              <%= link_to 'Edit',
                          edit_admin_category_path(category),
                          class: "edit-btn mr-2" %>
              <%= link_to 'Delete',
                          admin_category_path(category),
                          data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' },
                          class: "delete-btn" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <%= link_to 'Back to Dashboard',
              admin_root_path,
              class: "back-link" %>
</div>
