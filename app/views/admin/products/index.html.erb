<!-- filepath: c:\Users\Haseeb Arif\Desktop\Ruby project\bakery_app\app\views\admin\products\index.html.erb -->

<style>
  /* Admin Products Index Styling â€“ Brown-Themed BakeryApp */
  
  .admin-products-container {
    width: 100%;
    max-width: none;
    margin: 0 auto;
    padding: 1.5rem;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    background: linear-gradient(135deg, #F8F4E9, #E7D7C5);
    padding: 1.5rem;
    border-radius: 0.75rem;
    border: 2px solid #D4B483;
  }

  .page-header h1 {
    color: #5C3D2E;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
  }

  .page-header .subtitle {
    color: #A78A7F;
    font-size: 1rem;
    font-weight: 500;
  }

  .new-product-btn {
    background: linear-gradient(135deg, #5C3D2E, #4A2F20);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .new-product-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(92, 61, 46, 0.3);
    color: white;
    text-decoration: none;
  }

  .table-wrapper {
    background-color: #FFFFFF;
    border: 2px solid #D4B483;
    box-shadow: 0 4px 6px rgba(92, 61, 46, 0.1);
    border-radius: 0.75rem;
    overflow: hidden;
    margin-bottom: 2rem;
  }

  .products-table {
    width: 100%;
    border-collapse: collapse;
  }

  .products-table thead tr {
    background: linear-gradient(135deg, #E7D7C5, #D4B483);
  }

  .products-table thead th {
    color: #5C3D2E;
    text-transform: uppercase;
    font-size: 0.875rem;
    font-weight: 700;
    padding: 1rem;
    white-space: nowrap;
    letter-spacing: 0.5px;
  }

  .products-table tbody tr {
    border-bottom: 1px solid #E7D7C5;
    transition: background-color 0.2s ease;
  }

  .products-table tbody tr:hover {
    background-color: #F8F4E9;
  }

  .products-table tbody td {
    color: #5C3D2E;
    padding: 1rem;
    vertical-align: middle;
  }

  .product-image {
    width: 64px;
    height: 64px;
    object-fit: cover;
    border-radius: 0.5rem;
    border: 2px solid #D4B483;
    box-shadow: 0 2px 4px rgba(92, 61, 46, 0.1);
  }

  .no-image-placeholder {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, #E7D7C5, #D4B483);
    border-radius: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #5C3D2E;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .product-name {
    font-weight: 600;
    color: #5C3D2E;
    margin-bottom: 0.25rem;
  }

  .product-description {
    color: #A78A7F;
    font-size: 0.875rem;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .category-badge {
    background: linear-gradient(135deg, #D4B483, #A78A7F);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .price-display {
    font-weight: 700;
    color: #5C3D2E;
    font-size: 1.1rem;
  }

  .status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .status-available {
    background-color: #10B981;
    color: white;
  }

  .status-unavailable {
    background-color: #EF4444;
    color: white;
  }

  .quantity-display {
    font-weight: 600;
    color: #5C3D2E;
    background-color: #F8F4E9;
    padding: 0.25rem 0.75rem;
    border-radius: 0.375rem;
    border: 1px solid #D4B483;
  }

  .action-buttons {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    align-items: center;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 0.75rem;
    border-radius: 0.375rem;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
  }

  .action-btn-edit {
    background-color: #D4B483;
    color: #5C3D2E;
  }

  .action-btn-edit:hover {
    background-color: #A78A7F;
    color: white;
    transform: scale(1.05);
    text-decoration: none;
  }

  .action-btn-delete {
    background-color: #4A90E2;
    color: white;
  }

  .action-btn-delete:hover {
    background-color: #357ABD;
    transform: scale(1.05);
    text-decoration: none;
  }

  .action-btn svg {
    width: 16px;
    height: 16px;
  }

  .empty-state {
    text-align: center;
    padding: 3rem;
    color: #A78A7F;
  }

  .empty-state svg {
    width: 64px;
    height: 64px;
    color: #D4B483;
    margin-bottom: 1rem;
  }

  .empty-state h3 {
    color: #5C3D2E;
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    margin-bottom: 1.5rem;
  }

  .back-link {
    display: inline-block;
    background-color: #E7D7C5;
    color: #5C3D2E;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .back-link:hover {
    background-color: #D4B483;
    transform: translateY(-2px);
    text-decoration: none;
  }
</style>

<div class="admin-products-container">
  <div class="page-header">
    <div>
      <h1>Products Management</h1>
      <span class="subtitle">Total Products: <%= @products.count %></span>
    </div>
    <%= link_to 'Add New Product', new_admin_product_path, class: "new-product-btn" %>
  </div>

  <div class="table-wrapper">
    <table class="products-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Product Details</th>
          <th>Category</th>
          <th>Price</th>
          <th>Status</th>
          <th>Stock</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @products.each do |product| %>
          <tr>
            <td>
              <% if product.has_image? %>
                <%= image_tag product.image_path, class: "product-image", alt: product.name %>
              <% else %>
                <div class="no-image-placeholder">
                  No Image
                </div>
              <% end %>
            </td>
            <td>
              <div class="product-name"><%= product.name %></div>
              <% if product.description.present? %>
                <div class="product-description"><%= product.description %></div>
              <% end %>
            </td>
            <td>
              <span class="category-badge">
                <%= product.category&.name || 'Uncategorized' %>
              </span>
            </td>
            <td>
              <span class="price-display"><%= number_to_currency(product.price) %></span>
            </td>
            <td>
              <% if product.availability? %>
                <span class="status-badge status-available">Available</span>
              <% else %>
                <span class="status-badge status-unavailable">Unavailable</span>
              <% end %>
            </td>
            <td>
              <span class="quantity-display"><%= product.quantity || 0 %></span>
            </td>
            <td>
              <div class="action-buttons">
                <%= link_to edit_admin_product_path(product), 
                      class: "action-btn action-btn-edit",
                      title: "Edit #{product.name}" do %>
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                  Edit
                <% end %>
                <%= link_to admin_product_path(product), 
                      data: { 
                        turbo_method: :delete, 
                        turbo_confirm: "Are you sure you want to delete '#{product.name}'? This action cannot be undone." 
                      }, 
                      class: "action-btn action-btn-delete",
                      title: "Delete #{product.name}" do %>
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                  Delete
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
        <% if @products.empty? %>
          <tr>
            <td colspan="7">
              <div class="empty-state">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                </svg>
                <h3>No Products Found</h3>
                <p>Start building your bakery inventory by adding your first product</p>
                <%= link_to 'Add Your First Product', new_admin_product_path, class: "new-product-btn" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <%= link_to 'Back to Dashboard', admin_root_path, class: "back-link" %>
</div>
