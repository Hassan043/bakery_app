<!-- filepath: c:\Users\Haseeb Arif\Desktop\Ruby project\bakery_app\app\views\admin\users\index.html.erb -->
<div class="flex justify-between items-center mb-6">
  <h1 class="text-2xl font-bold">All Users</h1>
  <span class="text-gray-600">Total Users: <%= @users.count %></span>
</div>

<div class="bg-white shadow-md rounded my-6">
  <table class="min-w-full table-auto">
    <thead>
      <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
        <th class="py-3 px-6 text-left">ID</th>
        <th class="py-3 px-6 text-left">Name</th>
        <th class="py-3 px-6 text-left">Email</th>
        <th class="py-3 px-6 text-left">Role</th>
        <th class="py-3 px-6 text-left">Joined</th>
      </tr>
    </thead>
    <tbody class="text-gray-600 text-sm font-light">
      <% @users.each do |user| %>
        <tr class="border-b border-gray-200 hover:bg-gray-100">
          <td class="py-3 px-6 text-left">
            <%= user.id %>
          </td>
          <td class="py-3 px-6 text-left">
            <%= user.name.present? ? user.name : "Not provided" %>
          </td>
          <td class="py-3 px-6 text-left">
            <%= user.email %>
          </td>
          <td class="py-3 px-6 text-left">
            <span class="<%= user.admin? ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800' %> text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">
              <%= user.role&.capitalize || 'Customer' %>
            </span>
          </td>
          <td class="py-3 px-6 text-left">
            <%= user.created_at.strftime('%B %d, %Y') %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to 'Back to Dashboard', admin_root_path, class: "text-blue-500 hover:text-blue-700 mt-4 inline-block" %>
